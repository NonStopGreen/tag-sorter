!function(e,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof module&&module.exports?module.exports=r():e.returnExports=r()}("undefined"!=typeof self?self:this,function(){return function({documents:e=[],tags:r=[],ignoredTags:t=[],max:n=1/0,sort:o=!0}){if(!Array.isArray(e)||0==e.length||!e.every(e=>"object"==typeof e))throw new TypeError("Parameter documents is not an array filled with objects");if(!Array.isArray(r)||0==r.length||!r.every(e=>"string"==typeof e))throw new TypeError("Parameter tags is not an array filled with strings");if(n&&isNaN(n))throw new TypeError("Parameter max is not a number");if(!0!==o&&!1!==o)throw new TypeError("Parameter sort is not a boolean");var a=e.filter(function(e,o){return function({object:e,index:r,max:t,tags:n,ignoredTags:o}){var a;for(a=0;a<n.length;a++){if(0!==o.length){for(var i=0;i<o.length;i++)if(e.tags.includes(n[a])&&e.tags.includes(o[i]))return;return e&&r<t}if(e.tags.includes(n[a]))return e&&r<t}}({object:e,index:o,max:n,tags:r,ignoredTags:t})});return o&&(a=a.sort(function(e,t){return function({object1:e,object2:r,tags:t}){var n,o=0,a=0;for(n=0;n<t.length;n++)e.tags.includes(t[n])&&(o+=1),r.tags.includes(t[n])&&(a+=1);return o<a?1:o>a?-1:0}({object1:e,object2:t,tags:r})})),console.log(typeof a),a}});

!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.returnExports=t()}("undefined"!=typeof self?self:this,function(){"use strict";return function({documents:e=[],tags:t=[],ignoredTags:r=[],max:n=1/0,sort:o=!0}){if(!Array.isArray(e)||0==e.length||!e.every(e=>"object"==typeof e))throw new TypeError("Parameter documents is not an array filled with objects");if(!Array.isArray(t)||0==t.length||!t.every(e=>"string"==typeof e))throw new TypeError("Parameter tags is not an array filled with strings");if(n&&isNaN(n))throw new TypeError("Parameter max is not a number");if(!0!==o&&!1!==o)throw new TypeError("Parameter sort is not a boolean");var a=e.filter((e,o)=>(function({object:e,index:t,max:r,tags:n,ignoredTags:o}){if(!function({object:e,index:t,max:r,ignoredTags:n}){var o;for(o=0;o<n.length;o++)if(e.tags.includes(n[o]))return!0;return!1}({object:e,index:t,max:r,ignoredTags:o}))return function({object:e,index:t,max:r,tags:n}){var o;for(o=0;o<n.length;o++)if(e.tags.includes(n[o]))return!0;return!1}({object:e,index:t,max:r,tags:n})?e&&t<r:void 0})({object:e,index:o,max:n,tags:t,ignoredTags:r}));return o&&(a=a.sort((e,r)=>(function({object1:e,object2:t,tags:r}){var n,o=0,a=0;for(n=0;n<r.length;n++)e.tags.includes(r[n])&&(o+=1),t.tags.includes(r[n])&&(a+=1);return o<a?1:o>a?-1:0})({object1:e,object2:r,tags:t}))),a}});
